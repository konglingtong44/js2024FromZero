
サービス名
サービス概要（機能＋攻撃されやすいポイント）
備考（Metasploit / Inspector / GuardDutyとの関係）
EC2
仮想サーバーを提供し、SSH/HTTPポートが攻撃対象となりやすい。
Metasploitによる攻撃可能、Inspectorによる脆弱性スキャン可能、GuardDutyによる異常検知可能。
ECS（Fargate/EC2）
コンテナ実行環境を提供し、イメージ脆弱性や設定ミスが攻撃リスクとなる。
Inspectorによる脆弱性スキャンが可能。
Lambda
サーバーレス関数実行環境を提供し、権限設定ミスによる悪用リスクがある。
Inspectorによる脆弱性スキャンが可能。
API Gateway
APIエントリーポイントを提供し、入力検証ミスにより攻撃対象となる可能性あり。
MetasploitによるAPI脆弱性テスト可能、GuardDutyによる一部異常アクセス検知可能。
S3
オブジェクトストレージを提供し、公開設定ミスによる情報漏洩リスクがある。
GuardDutyによる未認証アクセスや暴力的アクセス検知可能。
EKS（EKS保護機能有効時）
Kubernetesクラスタ管理環境を提供し、API認証弱点が攻撃リスクとなる。
GuardDutyによる一部EKS API異常検知可能。
Route 53
DNS解決サービスを提供し、DNSハイジャックリスクがある。
GuardDutyによるDNS異常クエリ検知可能。
IAM
ユーザー・ロール・権限管理を行い、権限乱用リスクが高い。
GuardDutyによる異常な権限使用やアカウント悪用の検知可能。
RDS
マネージドデータベースサービスを提供し、パブリックアクセスや弱い認証設定により攻撃リスクがある。
Metasploitによるパスワード爆破やコマンドインジェクション攻撃が可能、Inspectorスキャン不可、GuardDuty検知ほぼ不可。
CloudTrail
全API操作のログを記録し、異常操作の追跡が可能。
直接攻撃対象ではないが、リソース異常操作の確認に使用（GuardDuty連携）。
VPC Flow Logs
VPC内部通信のログを記録し、トラフィック異常検知に役立つ。
GuardDutyがこれを利用して通信異常を検出。
Security Group（補助リソース）
EC2/ECSのポート開放を管理し、設定ミスで攻撃面拡大のリスクがある。
直接の攻撃対象ではないが、Metasploit攻撃とGuardDuty検知効果に影響。
GuardDuty
アカウント・ネットワークの異常行動を監視する。
どのリソースが攻撃または異常操作を受けたか検知できる。
Inspector
EC2、ECS、Lambdaに対する脆弱性スキャンを実施する。
どのリソースに脆弱性が存在するかを確認できる。



負荷試験レポート（JMeter利用）

本レポートでは、Apache JMeterを用いた性能テストについて、ローカル環境およびAWS分散負荷試験（Distributed Load Testing on AWS）の二つのパターンでの推奨性能とコストについてまとめました。

⸻

1. ローカル環境での性能推奨値（PCスペック：i5-1135G7、16GB）

項目	推奨値	備考
最大スレッド数（並列数）	約 500～800	CPUが80%以上になる場合は制限必要
リクエスト数（TPS）	約 300～500 TPS	リクエストの複雑さに依存
CPU使用率上限	80%以下	安定稼働を維持するため
メモリ使用率上限	80%以下	16GBで十分対応可能

注意点：
	•	複雑な処理（レスポンス処理、アサーション）を伴う場合、推奨並列数は500以下。
	•	非GUIモードでの実行を推奨。

⸻

2. AWS分散負荷試験での性能推奨とコスト見積（東京リージョン）

EC2単一インスタンスの性能目安（例：c6i.large）
	•	インスタンスタイプ：c6i.large（2vCPU, 4GB）
	•	推奨スレッド数：約1000～1500スレッド
	•	推奨TPS：約1000 TPS

推奨構成例：
	•	複数台を横展開し、並列数を増加させる。

⸻

AWSサービス利用料金（例：2時間のテスト）

サービス名	用途	料金モデル	東京リージョン料金目安
EC2(c6i.large)	負荷生成ノード	オンデマンド料金	約 $0.107/時間（1台あたり）
Amazon S3	テストデータ保存	ストレージ容量課金	約 $0.025/GB/月
CloudWatch	ログとモニタリング	ログ保存容量課金	約 $0.03/GB/月

コスト見積例（2台連動・2時間テストの場合）

項目	単価	台数	時間	コスト合計
EC2	$0.107/hr	2台	2時間	$0.428
S3	$0.025/GB/月	1GB	月割り	<$0.01
CloudWatch Logs	$0.03/GB/月	1GB	月割り	<$0.01

合計費用：約 $0.45

複数台連動時の料金目安（10台の場合）
	•	EC2インスタンス費用：$0.107 × 10台 × 実施時間
	•	例：10台・5時間テスト実施時：約$5.35

⸻

長期的な負荷試験の推奨事項
	•	長期試験の場合はスポットインスタンスを活用し、コストを最大約50～80%削減可能。
	•	CloudWatchログ、S3ストレージなどのデータは定期的に整理し、不要な課金を防ぐ。
	•	テスト実施後は不要なAWSリソースを即座に停止または削除する。

⸻

まとめ
	•	ローカル環境は少規模なテストに向き、AWS環境はネットワークやスケーラビリティの面で高負荷試験に最適。
	•	長期試験はAWSのスポットインスタンスを積極的に利用し、コスト効率を高めることを推奨。

以上
